<!DOCTYPE html><!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bouquet Builder üíê</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&display=swap');

* { box-sizing: border-box; }

html, body {
  margin: 0;
  padding: 0;
  height: 100%;
}

body {
  background: url("https://i.postimg.cc/kGBhPcg8/background.png") center center / cover no-repeat fixed;
  font-family: sans-serif;
  overflow: hidden;
}

.controls {
  position: fixed;
  top: 10px;
  width: 100%;
  text-align: center;
  z-index: 1000;
  padding: 5px;
}

button {
  margin: 4px;
  padding: 6px 8px;
  border: none;
  border-radius: 6px;
  font-size: 11px;
  cursor: pointer;
  background: #6d4c41;
  color: white;
}

#bouquet-area {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 85%;
}

.flower {
  position: absolute;
  width: 220px;
  cursor: grab;
  transition: transform 0.2s ease;
  filter: drop-shadow(0px 10px 18px rgba(0,0,0,0.18));
}

.flower.selected {
  outline: 3px dashed #6d4c41;
}

.message {
  position: fixed;
  bottom: 20px;
  width: 100%;
  text-align: center;
  font-family: 'Playfair Display', serif;
  font-size: 24px;
  font-weight: 700;
  color: #5d4037;
  text-shadow:
    0px 1px 0px rgba(255,255,255,0.6),
    0px 4px 12px rgba(93,64,55,0.25);
}

@media (max-width: 768px) {
  .flower { width: 150px; }
  .message { font-size: 20px; }
  button { font-size: 10px; padding: 5px 6px; }
}
</style>
</head>

<body>

<div class="controls">

<button onclick="addFlower('daisy')">Daisy</button>
<button onclick="addFlower('sunflower')">Sunflower</button>
<button onclick="addFlower('hydrangea')">Hydrangea</button>
<button onclick="addFlower('lily')">Lily</button>
<button onclick="addFlower('whiteRose')">White Rose</button>
<button onclick="addFlower('redRose')">Red Rose</button>
<button onclick="addFlower('yellowRose')">Yellow Rose</button>
<button onclick="addFlower('dandelion')">Dandelion</button>
<button onclick="addFlower('greenery')">Greenery</button>
<button onclick="addFlower('greenery1')">Greenery 1</button>
<button onclick="addFlower('greenery2')">Greenery 2</button>

<!-- NEW FLOWERS -->
<button onclick="addFlower('anemone')">Anemone (White)</button>
<button onclick="addFlower('peony')">Peony</button>

<br>

<button onclick="rotateLeft()">Rotate ‚ü≤</button>
<button onclick="rotateRight()">Rotate ‚ü≥</button>
<button onclick="bringForward()">Layer ‚Üë</button>
<button onclick="sendBackward()">Layer ‚Üì</button>
<button onclick="deleteSelected()">Delete</button>
<button onclick="undoFlower()">Undo</button>
<button onclick="clearBouquet()">Clear All</button>

</div>

<div id="bouquet-area"></div>

<div class="message">
I love you from Fatin ‚ù§Ô∏è
</div>

<script>
const flowerImages = {
  daisy: "https://i.postimg.cc/fW1hTtQk/daisy.png",
  dandelion: "https://i.postimg.cc/59DMNYWB/dandelion.png",
  hydrangea: "https://i.postimg.cc/ZYWSSPgQ/hydrangea.png",
  lily: "https://i.postimg.cc/1tYJBqrw/lily.png",
  redRose: "https://i.postimg.cc/JnhpjqJF/red_rose.png",
  whiteRose: "https://i.postimg.cc/ZRqw6cpd/white_rose.png",
  yellowRose: "https://i.postimg.cc/pdC097hv/yellow_rose.png",
  sunflower: "https://i.postimg.cc/nVXJJK55/sunflower.png",
  greenery: "https://i.postimg.cc/1zsC3PzD/Greenery.png",
  greenery1: "https://i.postimg.cc/hGsCJwJy/Greenery1.png",
  greenery2: "https://i.postimg.cc/N0DNyVyP/Greenery2.png",

  anemone: "https://i.postimg.cc/zfb8zn29/Anemone-white.png",
  peony: "https://i.postimg.cc/cCmN9T6s/Peonies.png"
};

let selectedFlower = null;
let highestZ = 1;
let addedFlowers = [];

function addFlower(type) {
  const img = document.createElement("img");
  img.src = flowerImages[type];
  img.className = "flower";
  img.dataset.rotation = "0";

  img.style.left = Math.random() * (window.innerWidth - 240) + "px";
  img.style.top = Math.random() * (window.innerHeight - 350) + "px";
  img.style.zIndex = ++highestZ;

  makeDraggable(img);
  document.getElementById("bouquet-area").appendChild(img);
  addedFlowers.push(img);
}

function selectFlower(el) {
  if (selectedFlower) selectedFlower.classList.remove("selected");
  selectedFlower = el;
  selectedFlower.classList.add("selected");
}

document.querySelector(".controls").addEventListener("click", e => e.stopPropagation());

document.getElementById("bouquet-area").addEventListener("click", () => {
  if (selectedFlower) {
    selectedFlower.classList.remove("selected");
    selectedFlower = null;
  }
});

function rotateLeft() {
  if (!selectedFlower) return;
  let r = parseInt(selectedFlower.dataset.rotation) - 15;
  selectedFlower.dataset.rotation = r;
  selectedFlower.style.transform = "rotate(" + r + "deg)";
}

function rotateRight() {
  if (!selectedFlower) return;
  let r = parseInt(selectedFlower.dataset.rotation) + 15;
  selectedFlower.dataset.rotation = r;
  selectedFlower.style.transform = "rotate(" + r + "deg)";
}

function bringForward() {
  if (!selectedFlower) return;
  selectedFlower.style.zIndex = ++highestZ;
}

function sendBackward() {
  if (!selectedFlower) return;
  let z = parseInt(selectedFlower.style.zIndex);
  selectedFlower.style.zIndex = Math.max(1, z - 1);
}

function deleteSelected() {
  if (!selectedFlower) return;
  selectedFlower.remove();
  addedFlowers = addedFlowers.filter(f => f !== selectedFlower);
  selectedFlower = null;
}

function undoFlower() {
  if (addedFlowers.length === 0) return;
  const last = addedFlowers.pop();
  last.remove();
}

function clearBouquet() {
  addedFlowers.forEach(f => f.remove());
  addedFlowers = [];
  selectedFlower = null;
}

function makeDraggable(el) {
  let offsetX = 0, offsetY = 0;
  let isDragging = false;
  let moved = false;

  el.addEventListener("mousedown", e => {
    isDragging = true;
    moved = false;
    selectFlower(el);
    offsetX = e.clientX - el.offsetLeft;
    offsetY = e.clientY - el.offsetTop;
  });

  document.addEventListener("mousemove", e => {
    if (!isDragging) return;
    moved = true;
    el.style.left = (e.clientX - offsetX) + "px";
    el.style.top = (e.clientY - offsetY) + "px";
  });

  document.addEventListener("mouseup", () => {
    isDragging = false;
  });

  el.addEventListener("touchstart", e => {
    const touch = e.touches[0];
    isDragging = true;
    moved = false;
    selectFlower(el);
    offsetX = touch.clientX - el.offsetLeft;
    offsetY = touch.clientY - el.offsetTop;
  });

  document.addEventListener("touchmove", e => {
    if (!isDragging) return;
    moved = true;
    const touch = e.touches[0];
    el.style.left = (touch.clientX - offsetX) + "px";
    el.style.top = (touch.clientY - offsetY) + "px";
  });

  document.addEventListener("touchend", () => {
    isDragging = false;
  });
}
</script>

</body>
</html>

